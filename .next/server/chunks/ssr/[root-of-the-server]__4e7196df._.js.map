{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 13, "column": 0}, "map": {"version":3,"sources":["file:///home/ken_tran/ai_chatbox/app/map/page.tsx"],"sourcesContent":["'use client'\nimport { useState, useEffect, useRef } from 'react'\n\nfunction BulletproofMap() {\n  const [isClient, setIsClient] = useState(false)\n  const [mapLoaded, setMapLoaded] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  const [loadingStep, setLoadingStep] = useState('Initializing...')\n  const mapRef = useRef<any>(null)\n  const containerRef = useRef<HTMLDivElement>(null)\n\n  useEffect(() => {\n    setIsClient(true)\n    \n    const loadMap = async () => {\n      try {\n        setLoadingStep('Loading CSS...')\n        \n        // Load Leaflet CSS\n        if (!document.querySelector('link[href*=\"leaflet.css\"]')) {\n          const cssLink = document.createElement('link')\n          cssLink.rel = 'stylesheet'\n          cssLink.href = 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.css'\n          cssLink.integrity = 'sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY='\n          cssLink.crossOrigin = ''\n          document.head.appendChild(cssLink)\n          \n          // Wait for CSS to load\n          await new Promise((resolve) => {\n            cssLink.onload = resolve\n            setTimeout(resolve, 1000) // Fallback timeout\n          })\n        }\n\n        setLoadingStep('Loading Leaflet library...')\n        \n        // Load Leaflet JS\n        const L = await import('leaflet')\n        \n        setLoadingStep('Creating map...')\n        \n        // Make sure container exists and is empty\n        const container = containerRef.current\n        if (!container) {\n          throw new Error('Map container not found')\n        }\n        \n        // Clear any existing map\n        if (mapRef.current) {\n          mapRef.current.remove()\n        }\n        container.innerHTML = ''\n        \n        // Create map\n        const map = L.map(container, {\n          center: [51.505, -0.09],\n          zoom: 13,\n          zoomControl: true\n        })\n        \n        mapRef.current = map\n        \n        setLoadingStep('Loading map tiles...')\n        \n        // Add tile layer\n        const tileLayer = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n          attribution: '¬© <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n          maxZoom: 19\n        })\n        \n        tileLayer.addTo(map)\n        \n        // Add a marker\n        L.marker([51.505, -0.09])\n          .addTo(map)\n          .bindPopup('Hello! Your map is working! üó∫Ô∏è')\n          .openPopup()\n        \n        setLoadingStep('Map ready!')\n        setMapLoaded(true)\n        console.log('‚úÖ Map loaded successfully!')\n        \n      } catch (err) {\n        console.error('‚ùå Map loading failed:', err)\n        setError(err instanceof Error ? err.message : 'Unknown error occurred')\n      }\n    }\n\n    if (isClient) {\n      loadMap()\n    }\n\n    // Cleanup function\n    return () => {\n      if (mapRef.current) {\n        try {\n          mapRef.current.remove()\n        } catch (e) {\n          console.log('Map cleanup completed')\n        }\n      }\n    }\n  }, [isClient])\n\n  if (!isClient) {\n    return (\n      <div style={{ \n        height: '500px', \n        backgroundColor: '#f8f9fa', \n        display: 'flex', \n        alignItems: 'center', \n        justifyContent: 'center',\n        border: '2px dashed #dee2e6',\n        borderRadius: '8px'\n      }}>\n        <div style={{ textAlign: 'center' }}>\n          <div style={{ fontSize: '18px', marginBottom: '8px' }}>üåç</div>\n          <div>Preparing map...</div>\n        </div>\n      </div>\n    )\n  }\n\n  if (error) {\n    return (\n      <div style={{ \n        height: '500px', \n        backgroundColor: '#f8d7da', \n        display: 'flex', \n        alignItems: 'center', \n        justifyContent: 'center',\n        border: '2px solid #f5c6cb',\n        borderRadius: '8px',\n        padding: '20px'\n      }}>\n        <div style={{ textAlign: 'center', color: '#721c24' }}>\n          <div style={{ fontSize: '24px', marginBottom: '12px' }}>‚ùå</div>\n          <div style={{ fontSize: '18px', marginBottom: '8px' }}>Map Loading Failed</div>\n          <div style={{ fontSize: '14px' }}>Error: {error}</div>\n          <button \n            onClick={() => window.location.reload()} \n            style={{ \n              marginTop: '12px', \n              padding: '8px 16px', \n              backgroundColor: '#dc3545', \n              color: 'white', \n              border: 'none', \n              borderRadius: '4px',\n              cursor: 'pointer'\n            }}\n          >\n            Reload Page\n          </button>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div style={{ position: 'relative' }}>\n      <div \n        ref={containerRef}\n        style={{ \n          height: '500px', \n          width: '100%',\n          backgroundColor: '#e9ecef',\n          border: '2px solid #495057',\n          borderRadius: '8px'\n        }}\n      />\n      \n      {!mapLoaded && (\n        <div style={{\n          position: 'absolute',\n          top: '50%',\n          left: '50%',\n          transform: 'translate(-50%, -50%)',\n          backgroundColor: 'rgba(255,255,255,0.95)',\n          padding: '20px',\n          borderRadius: '8px',\n          textAlign: 'center',\n          boxShadow: '0 4px 6px rgba(0,0,0,0.1)'\n        }}>\n          <div style={{ fontSize: '18px', marginBottom: '8px' }}>üó∫Ô∏è</div>\n          <div style={{ fontSize: '16px', marginBottom: '4px' }}>Loading Map</div>\n          <div style={{ fontSize: '14px', color: '#666' }}>{loadingStep}</div>\n        </div>\n      )}\n      \n      {mapLoaded && (\n        <div style={{\n          position: 'absolute',\n          top: '10px',\n          right: '10px',\n          backgroundColor: 'rgba(40, 167, 69, 0.9)',\n          color: 'white',\n          padding: '8px 12px',\n          borderRadius: '4px',\n          fontSize: '14px'\n        }}>\n          ‚úÖ Map Ready!\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default function MapPage() {\n  return (\n    <div style={{ \n      padding: '20px', \n      minHeight: '100vh',\n      backgroundColor: '#ffffff'\n    }}>\n      <h1 style={{ \n        marginBottom: '20px',\n        color: '#333',\n        fontSize: '36px'\n      }}>\n        AI Map Helper\n      </h1>\n      \n      <div style={{ \n        marginBottom: '16px',\n        padding: '12px',\n        backgroundColor: '#d1ecf1',\n        border: '1px solid #bee5eb',\n        borderRadius: '4px',\n        color: '#0c5460'\n      }}>\n        <strong>Status:</strong> Testing bulletproof map implementation\n      </div>\n      \n      <BulletproofMap />\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 392, "column": 0}, "map": {"version":3,"sources":["file:///home/ken_tran/ai_chatbox/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 413, "column": 0}, "map": {"version":3,"sources":["file:///home/ken_tran/ai_chatbox/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 420, "column": 0}, "map": {"version":3,"sources":["file:///home/ken_tran/ai_chatbox/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0],"debugId":null}}]
}